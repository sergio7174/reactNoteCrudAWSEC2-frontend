{"ast":null,"code":"export const ServiceHomeCreatePost=async(posts,text,setPosts,setModalEditPostActive)=>{// const response = await fetch(`http://localhost:3500/posts/${posts[0].  _id}`, {\nconst response=await fetch(\"/posts/\".concat(posts[0]._id),{method:'PATCH',headers:{'Content-type':'application/json',Authorization:\"Bearer \".concat(localStorage.getItem('token'))},body:JSON.stringify({text})});const data=await response.json();console.log(data);if(response.ok){setPosts(prevPosts=>{return prevPosts.map(post=>{if(post._id===posts[0]._id){return{...post,text:text||''};}else{return post;}});});setModalEditPostActive(false);}return response;};","map":{"version":3,"names":["ServiceHomeCreatePost","posts","text","setPosts","setModalEditPostActive","response","fetch","concat","_id","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","data","json","console","log","ok","prevPosts","map","post"],"sources":["E:/REACT-DOCKER-SEP2024/MERN TO AWS/EC2/REACT NOTE CRUD/reactNoteCrudAWSEC2-frontend/src/services/Home/serviceHomeCreatePost.ts"],"sourcesContent":["export const ServiceHomeCreatePost = async (\n  posts: any,\n  text: string,\n  setPosts: any,\n  setModalEditPostActive: any,\n) => {\n  // const response = await fetch(`http://localhost:3500/posts/${posts[0].  _id}`, {\n  const response = await fetch(`/posts/${posts[0]._id}`, {\n    method: 'PATCH',\n    headers: {\n      'Content-type': 'application/json',\n      Authorization: `Bearer ${localStorage.getItem('token')}`,\n    },\n    body: JSON.stringify({ text }),\n  });\n  const data = await response.json();\n  console.log(data);\n  if (response.ok) {\n    setPosts((prevPosts: any) => {\n      return prevPosts.map((post: any) => {\n        if (post._id === posts[0]._id) {\n          return {\n            ...post,\n            text: text || '',\n          };\n        } else {\n          return post;\n        }\n      });\n    });\n\n    setModalEditPostActive(false);\n  }\n  return response;\n};\n"],"mappings":"AAAA,MAAO,MAAM,CAAAA,qBAAqB,CAAG,KAAAA,CACnCC,KAAU,CACVC,IAAY,CACZC,QAAa,CACbC,sBAA2B,GACxB,CACH;AACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,WAAAC,MAAA,CAAWN,KAAK,CAAC,CAAC,CAAC,CAACO,GAAG,EAAI,CACrDC,MAAM,CAAE,OAAO,CACfC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClCC,aAAa,WAAAJ,MAAA,CAAYK,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CACxD,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEd,IAAK,CAAC,CAC/B,CAAC,CAAC,CACF,KAAM,CAAAe,IAAI,CAAG,KAAM,CAAAZ,QAAQ,CAACa,IAAI,CAAC,CAAC,CAClCC,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC,CACjB,GAAIZ,QAAQ,CAACgB,EAAE,CAAE,CACflB,QAAQ,CAAEmB,SAAc,EAAK,CAC3B,MAAO,CAAAA,SAAS,CAACC,GAAG,CAAEC,IAAS,EAAK,CAClC,GAAIA,IAAI,CAAChB,GAAG,GAAKP,KAAK,CAAC,CAAC,CAAC,CAACO,GAAG,CAAE,CAC7B,MAAO,CACL,GAAGgB,IAAI,CACPtB,IAAI,CAAEA,IAAI,EAAI,EAChB,CAAC,CACH,CAAC,IAAM,CACL,MAAO,CAAAsB,IAAI,CACb,CACF,CAAC,CAAC,CACJ,CAAC,CAAC,CAEFpB,sBAAsB,CAAC,KAAK,CAAC,CAC/B,CACA,MAAO,CAAAC,QAAQ,CACjB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}